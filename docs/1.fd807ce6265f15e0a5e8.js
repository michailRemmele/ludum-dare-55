"use strict";(self.webpackChunkludum_dare_55=self.webpackChunkludum_dare_55||[]).push([[1],{382:(n,e,t)=>{t.r(e),t.d(e,{GAME_ID:()=>r,MAIN_MENU_ID:()=>a});const a="8aa8d080-b995-4892-b718-829dd717612c",r="cd85bb20-d3c0-42e1-840b-d5dc5f09daef"},381:(n,e,t)=>{t.r(e),t.d(e,{App:()=>i});var a=t(373),r=t(382),s=t(377),l=t(383),d=t(379);const i=()=>{const{scene:n}=(0,a.useContext)(s.EngineContext);return(0,d.jsxs)(d.Fragment,{children:[n.id===r.MAIN_MENU_ID&&(0,d.jsx)(l.MainMenu,{}),n.id===r.GAME_ID&&(0,d.jsx)(l.Game,{})]})}},369:(n,e,t)=>{t.r(e),t.d(e,{onDestroy:()=>o,onInit:()=>i});var a=t(370),r=t(377),s=t(381),l=t(379);let d;function i(n){const e=document.getElementById("ui-root");e&&(d=(0,a.createRoot)(e),d.render((0,l.jsx)(r.EngineProvider,{context:n,children:(0,l.jsx)(s.App,{})})))}function o(){d&&(d.unmount(),d=void 0)}},378:(n,e,t)=>{t.r(e),t.d(e,{EngineContext:()=>s,EngineProvider:()=>l});var a=t(373),r=t(379);const s=a.createContext({}),l=({context:n,children:e})=>(0,r.jsx)(s.Provider,{value:n,children:e})},377:(n,e,t)=>{t.r(e),t.d(e,{EngineContext:()=>a.EngineContext,EngineProvider:()=>a.EngineProvider});var a=t(378)},397:(n,e,t)=>{t.r(e),t.d(e,{HealthBar:()=>i});var a=t(373),r=t(377),s=t(26),l=t(3),d=(t(398),t(379));const i=()=>{const{scene:n,gameStateObserver:e}=(0,a.useContext)(r.EngineContext),[t,i]=(0,a.useState)(100),[o,c]=(0,a.useState)(100);return(0,a.useEffect)((()=>{const t=()=>{const e=n.getEntityById(s.PLAYER_ID),t=e?.getComponent(l.Health);i(t?.points??0),c(t?.maxPoints??100)};return e.subscribe(t),()=>e.unsubscribe(t)}),[]),(0,d.jsx)("div",{className:"health-bar",children:(0,d.jsx)("div",{className:"health-bar__points",style:{width:(o?t/o*100:0)+"%"}})})}},396:(n,e,t)=>{t.r(e),t.d(e,{HealthBar:()=>a.HealthBar,ManaBar:()=>r.ManaBar,ResurrectButton:()=>s.ResurrectButton});var a=t(397),r=t(400),s=t(403)},400:(n,e,t)=>{t.r(e),t.d(e,{ManaBar:()=>i});var a=t(373),r=t(377),s=t(26),l=t(3),d=(t(401),t(379));const i=()=>{const{scene:n,gameStateObserver:e}=(0,a.useContext)(r.EngineContext),[t,i]=(0,a.useState)(100),[o,c]=(0,a.useState)(100);return(0,a.useEffect)((()=>{const t=()=>{const e=n.getEntityById(s.PLAYER_ID),t=e?.getComponent(l.Mana);i(t?.points??0),c(t?.maxPoints??100)};return e.subscribe(t),()=>e.unsubscribe(t)}),[]),(0,d.jsx)("div",{className:"mana-bar",children:(0,d.jsx)("div",{className:"mana-bar__points",style:{width:(o?t/o*100:0)+"%"}})})}},403:(n,e,t)=>{t.r(e),t.d(e,{ResurrectButton:()=>i});var a=t(373),r=t(377),s=t(26),l=t(3),d=(t(404),t(379));const i=()=>{const{scene:n,gameStateObserver:e}=(0,a.useContext)(r.EngineContext),[t,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const t=()=>{const e=n.getEntityById(s.PLAYER_ID),t=e?.getComponent(l.Spellbook);i(t?.canResurrect??!1)};return e.subscribe(t),()=>e.unsubscribe(t)}),[]),t?(0,d.jsxs)("div",{className:"action-button",children:[(0,d.jsx)("div",{className:"action-button__key",children:"E"}),(0,d.jsx)("div",{className:"action-button__label",children:"Resurrect"})]}):null}},395:(n,e,t)=>{t.r(e),t.d(e,{Game:()=>u});var a=t(373),r=t(11),s=t(377),l=t(26),d=t(382),i=t(25),o=t(396),c=(t(406),t(379));const u=()=>{const{scene:n}=(0,a.useContext)(s.EngineContext),[e,t]=(0,a.useState)(!1),u=(0,a.useCallback)((()=>{n.dispatchEvent(r.LoadScene,{sceneId:d.GAME_ID,loaderId:null,levelId:null,unloadCurrent:!0,clean:!0})}),[]);return(0,a.useEffect)((()=>{const e=n.getEntityById(l.PLAYER_ID),a=()=>{t(!0)};return e?.addEventListener(i.Kill,a),()=>e?.removeEventListener(i.Kill,a)}),[]),(0,c.jsx)("div",{className:"game",children:e?(0,c.jsxs)("div",{className:"game__game-over",children:[(0,c.jsx)("h1",{className:"game-over__title",children:"Game Over"}),(0,c.jsx)("button",{className:"game-over__button",type:"button",onClick:u,children:"Restart"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"game__header",children:[(0,c.jsx)(o.HealthBar,{}),(0,c.jsx)(o.ManaBar,{})]}),(0,c.jsx)("div",{className:"game__footer",children:(0,c.jsx)(o.ResurrectButton,{})})]})})}},383:(n,e,t)=>{t.r(e),t.d(e,{Game:()=>r.Game,MainMenu:()=>a.MainMenu});var a=t(384),r=t(395)},384:(n,e,t)=>{t.r(e),t.d(e,{MainMenu:()=>i});var a=t(373),r=t(11),s=t(377),l=t(382),d=(t(385),t(379));const i=()=>{const{scene:n}=(0,a.useContext)(s.EngineContext),e=(0,a.useCallback)((()=>{n.dispatchEvent(r.LoadScene,{sceneId:l.GAME_ID,clean:!0,loaderId:null,levelId:null})}),[n]);return(0,d.jsxs)("div",{className:"main-menu",children:[(0,d.jsx)("h1",{children:"Ludum Dare 55"}),(0,d.jsx)("button",{className:"main-menu__button",type:"button",onClick:e,children:"Play"})]})}},399:(n,e,t)=>{t.r(e),t.d(e,{default:()=>d});var a=t(393),r=t.n(a),s=t(394),l=t.n(s)()(r());l.push([n.id,".health-bar {\n  height: 24px;\n  width: 30%;\n  min-width: 200px;\n  max-width: 300px;\n\n  background-color: #202020;\n  border: 4px solid #202020;\n}\n\n.health-bar__points {\n  background-color: #682c32;\n\n  height: 100%;\n}\n\n@media screen and (max-height: 481px), screen and (max-width: 768px) {\n  .health-bar {\n    height: 16px;\n  }\n}",""]);const d=l},402:(n,e,t)=>{t.r(e),t.d(e,{default:()=>d});var a=t(393),r=t.n(a),s=t(394),l=t.n(s)()(r());l.push([n.id,".mana-bar {\n  height: 24px;\n  width: 30%;\n  min-width: 200px;\n  max-width: 300px;\n\n  background-color: #202020;\n  border: 4px solid #202020;\n\n  margin-top: 4px;\n}\n\n.mana-bar__points {\n  background-color: #2f4063;\n\n  height: 100%;\n}\n\n@media screen and (max-height: 481px), screen and (max-width: 768px) {\n  .mana-bar {\n    height: 16px;\n  }\n}",""]);const d=l},405:(n,e,t)=>{t.r(e),t.d(e,{default:()=>d});var a=t(393),r=t.n(a),s=t(394),l=t.n(s)()(r());l.push([n.id,".action-button {\n  display: flex;\n  align-items: center;\n\n  color: white;\n}\n\n.action-button__key {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  border: 4px solid white;\n  border-radius: 4px;\n  font-size: 32px;\n  margin-right: 8px;\n}\n\n.action-button__label {\n  font-size: 24px;\n}",""]);const d=l},407:(n,e,t)=>{t.r(e),t.d(e,{default:()=>d});var a=t(393),r=t.n(a),s=t(394),l=t.n(s)()(r());l.push([n.id,".game {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-sizing: border-box;\n  height: 100%;\n  padding: 10px;\n}\n\n.game__header {\n  display: flex;\n  flex-direction: column;\n}\n\n.game__footer {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.game__game-over {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: auto;\n  padding: 24px;\n  background-color: #202020;\n}\n\n.game-over__title {\n  color: white;\n}",""]);const d=l},392:(n,e,t)=>{t.r(e),t.d(e,{default:()=>d});var a=t(393),r=t.n(a),s=t(394),l=t.n(s)()(r());l.push([n.id,".main-menu {\n  width: 100%;\n  height: 100%;\n  \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n\n  background-color: #202020;\n  color: white;\n}\n\n.main-menu__button {\n  cursor: pointer;\n}",""]);const d=l},398:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var a=t(386),r=t.n(a),s=t(387),l=t.n(s),d=t(388),i=t.n(d),o=t(389),c=t.n(o),u=t(390),m=t.n(u),h=t(391),x=t.n(h),b=t(399),g={};g.styleTagTransform=x(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=m();r()(b.default,g);const f=b.default&&b.default.locals?b.default.locals:void 0},401:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var a=t(386),r=t.n(a),s=t(387),l=t.n(s),d=t(388),i=t.n(d),o=t(389),c=t.n(o),u=t(390),m=t.n(u),h=t(391),x=t.n(h),b=t(402),g={};g.styleTagTransform=x(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=m();r()(b.default,g);const f=b.default&&b.default.locals?b.default.locals:void 0},404:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var a=t(386),r=t.n(a),s=t(387),l=t.n(s),d=t(388),i=t.n(d),o=t(389),c=t.n(o),u=t(390),m=t.n(u),h=t(391),x=t.n(h),b=t(405),g={};g.styleTagTransform=x(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=m();r()(b.default,g);const f=b.default&&b.default.locals?b.default.locals:void 0},406:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var a=t(386),r=t.n(a),s=t(387),l=t.n(s),d=t(388),i=t.n(d),o=t(389),c=t.n(o),u=t(390),m=t.n(u),h=t(391),x=t.n(h),b=t(407),g={};g.styleTagTransform=x(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=m();r()(b.default,g);const f=b.default&&b.default.locals?b.default.locals:void 0},385:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var a=t(386),r=t.n(a),s=t(387),l=t.n(s),d=t(388),i=t.n(d),o=t(389),c=t.n(o),u=t(390),m=t.n(u),h=t(391),x=t.n(h),b=t(392),g={};g.styleTagTransform=x(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=m();r()(b.default,g);const f=b.default&&b.default.locals?b.default.locals:void 0}}]);